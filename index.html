<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>AIæ¸¸æˆæ¨è Â· v7 HTML ç›´å‡ºç‰ˆ</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ç»†èŠ‚ä¼˜åŒ– */
    .no-scrollbar::-webkit-scrollbar{display:none}
    .no-scrollbar{-ms-overflow-style:none;scrollbar-width:none}
    html,body{background:#0B0D13}
  </style>
  <!-- React 18 + ReactDOM UMD -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Framer Motion UMD (æä¾›å…¨å±€ window.framerMotion) -->
  <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>
  <!-- Babel for in-browser JSX transform -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="min-h-screen">
  <div id="root"></div>

  <script type="text/babel">
    /*********************************
     *  Runtime å®‰å…¨å¯¼å…¥ & Fallbackï¼ˆä¿®å¤ï¼šElement type is invalidï¼‰
     *  - æŸäº›ç¯å¢ƒä¸­ window.framerMotion å¯èƒ½ä¸å­˜åœ¨ï¼Œæˆ–å…¶æˆå‘˜æœªå°±ç»ª
     *  - è¿™é‡Œæä¾›å®‰å…¨é™çº§ï¼š
     *      motion.xxx => è¿”å›æ™®é€šçš„ <xxx> å…ƒç´ ï¼ˆä¿ç•™å¸ƒå±€ï¼Œä¸æŠ¥é”™ï¼‰
     *      AnimatePresence => ç›´æ¥æ¸²æŸ“ children
     *********************************/
    const FM = (window.framerMotion || window["framer-motion"] || {});
    const makeStub = (Tag) => (props) => React.createElement(Tag, props, props?.children);
    const MotionStub = new Proxy({}, { get: (_, tag) => makeStub(tag) });
    const motion = FM.motion || MotionStub;
    const AnimatePresence = FM.AnimatePresence || (({ children }) => <>{children}</>);

    // åŸºç¡€ React Hooks
    const { useMemo, useState } = React;

    /*********************************
     *  è½»é‡è‡ªæ£€ç”¨ä¾‹ï¼ˆå¯å±•å¼€æŸ¥çœ‹ï¼‰
     *********************************/
    function runSelfTests(){
      const cases = [
        { name: 'React å­˜åœ¨', fn: () => !!React && !!ReactDOM },
        { name: 'framer-motion å…¨å±€å¯è§', fn: () => !!window.framerMotion },
        { name: 'motion å¯ç”¨ï¼ˆå‡½æ•°æˆ– Proxyï¼‰', fn: () => typeof motion === 'object' && typeof motion.div === 'function' },
        { name: 'AnimatePresence å¯ç”¨', fn: () => typeof AnimatePresence === 'function' },
      ];
      return cases.map(c => ({ name: c.name, pass: !!(c.fn()) }));
    }

    /*********************************
     *  æ•°æ®ä¸å¸¸é‡ï¼ˆä¸ v4 å¯¹é½å¹¶è¡¥å……ï¼‰
     *********************************/
    const GAME = {
      name: "Identity V Â· ç¬¬äº”äººæ ¼",
      subtitle: "1v4 éå¯¹ç§°å¯¹æŠ— Â· å“¥ç‰¹æ‚¬ç–‘",
      tags: ["éå¯¹ç§°å¯¹æŠ—", "å“¥ç‰¹æ‚¬ç–‘", "å¤šäººç«æŠ€", "å‰§æƒ…æ²‰æµ¸"],
      moods: ["ç´§å¼ æ„Ÿ", "æ¨ç†æ¬²", "å…±æ–—", "åè½¬å‰§æƒ…"],
      heroLines: [
        "ä½ æ›¾å¤šæ¬¡åœç•™åœ¨ 1v4 ç­–ç•¥ä¸æ‚¬ç–‘é¢˜æä¸Šï¼Œè¿™æ¬¾æ¸¸æˆä¸ä½ çš„æ¸¸ç©åå¥½é«˜åº¦é‡åˆã€‚",
      ],
      highlights: [
        { title: "éå¯¹ç§°ç«æŠ€å·…å³°", desc: "1v4 è„‘åŠ›åšå¼ˆï¼ŒçŒäººä¸æ±‚ç”Ÿè€…ç­–ç•¥æ‹‰æ»¡" },
        { title: "æ‚¬ç–‘å‰§æƒ…æ°›å›´", desc: "å“¥ç‰¹è§†è§‰ + åº„å›­çœŸç›¸ï¼Œæ²‰æµ¸æ„Ÿæå¼º" },
        { title: "è§’è‰²ç¾ç»Šæˆé•¿", desc: "æ¯ä½ç›‘ç®¡è€…/æ±‚ç”Ÿè€…çš†æœ‰ç‹¬ç«‹å‘½è¿çº¿" },
      ],
    };

    const VISUAL_SETS = {
      ç©æ³•: [
        { t: "æ ¸å¿ƒæœºåˆ¶", s: "è¿½å‡»ã€æ•‘æ´ã€ç ´è¯‘ã€ç”µæœºåä½œ" },
        { t: "ä¸Šæ‰‹æŠ€å·§", s: "ç†Ÿæ‚‰åœ°å½¢ + åˆç†è½¬ç‚¹ + å›¢é˜Ÿè¯­éŸ³åä½œ" },
        { t: "èŠ‚å¥é¢„ä¼°", s: "å•å±€ 10â€“15min Â· æ’ä½ä¸Šåˆ†å»ºè®®å››æ’" },
      ],
      è§†è§‰: [
        { t: "æ ¸å¿ƒé£æ ¼", s: "å“¥ç‰¹ + ç»´å¤šåˆ©äºšå¼å»ºç­‘é£æ ¼" },
        { t: "ç‰¹æ•ˆæ¼”å‡º", s: "é›¾æ°”ã€ç«å…‰ã€è¿½é€è§†è§’æ²‰æµ¸æ¸²æŸ“" },
      ],
      å‰§æƒ…: [
        { t: "ä¸»çº¿å‰§æƒ…", s: "åº„å›­ç§˜å¯†ä¸äººæ ¼å®éªŒ" },
        { t: "è§’è‰²å…³ç³»", s: "ç›‘ç®¡è€…ä¸æ±‚ç”Ÿè€…çš„å®¿å‘½çº ç¼ " },
      ],
      å£ç¢‘: [
        { t: "ç¤¾åŒºçƒ­è¯", s: "#æ’ä½æƒŠé­‚ #æ¼”ç»ä¹‹æ˜Ÿ #æ·±æ¸Šç››å…¸" },
        { t: "ç©å®¶è¯„ä»·", s: "éå¯¹ç§°è®¾è®¡å¤©èŠ±æ¿ Â· æ°›å›´ä¸å‰§æƒ…å¹¶å­˜" },
      ],
    };

    const SIMS = {
      newbie: [
        { title: "èµ¤æ½®ï¼šé›¶åŸŸ", why: "å¤„å†³æ‰‹æ„Ÿä¸èŠ‚å¥ç›¸è¿‘ï¼Œ10 åˆ†é’Ÿä¸€å±€" },
        { title: "é“åŸæ®‹å“", why: "æ‚¬ç–‘åè½¬ + éƒ½å¸‚åºŸåœŸæ°›å›´" },
        { title: "å¼ˆä»™ç‰Œ", why: "å¿«èŠ‚å¥å¯¹æŠ—ï¼Œç­–ç•¥åé¦ˆå¼º" },
        { title: "éœ“è™¹åå¥", why: "åŒäººååŒï¼ŒéŸ³å¾‹æ‰“å‡»æ„Ÿ" },
      ],
      veteran: [
        { title: "é»æ˜è¿½çŒ", why: "ä½ å¸¸ç”¨ç›‘ç®¡è€…è·¯å¾„ç›¸è¿‘ï¼šæ§åˆ¶ â†’ å‹ç”µæœº â†’ æ”¶å‰²" },
        { title: "å½±åŸè¿·è¸ª", why: "ä½ åå¥½è§£å¯†+è½¬ç‚¹ï¼Œæœ¬ä½œåœ°å½¢åˆ©ç”¨æ›´å¼º" },
        { title: "æš—æ½®è½¦ç«™", why: "ä½ åœ¨ 10â€“15min å±€ç•™å­˜é«˜ï¼ŒèŠ‚å¥å¥‘åˆ" },
        { title: "æ—§éƒ½ç»®æ¢¦", why: "å‰§æƒ…åè½¬å¯†åº¦é«˜ï¼Œé€‚åˆä½ çš„å‰§æƒ…åå¥½" },
      ],
    };

    /*********************************
     *  åŸºç¡€è§†è§‰ç»„ä»¶
     *********************************/
    function GlassCard({ children, className = "" }) {
      return (
        <div className={"rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_8px_40px_rgba(0,0,0,0.35)] " + className}>{children}</div>
      );
    }
    function Badge({ children }) {
      return (
        <span className="inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-[11px] bg-white/10 border border-white/10 text-white/90">{children}</span>
      );
    }
    function PrimaryButton({ children, onClick, className = "" }) {
      return (
        <button onClick={onClick} className={"px-4 py-2 rounded-2xl text-sm font-medium text-white bg-gradient-to-r from-[#2CD9FF] via-[#6C6CFF] to-[#A445FF] shadow-[0_6px_20px_rgba(82,122,255,0.45)] hover:shadow-[0_10px_28px_rgba(82,122,255,0.65)] active:translate-y-[1px] " + className}>{children}</button>
      );
    }
    function GhostButton({ children, onClick, className = "" }) {
      return (
        <button onClick={onClick} className={"px-4 py-2 rounded-2xl text-sm font-medium text-white/90 border border-white/15 bg-white/5 hover:bg-white/10 active:translate-y-[1px] " + className}>{children}</button>
      );
    }

    /*********************************
     *  v4 åŸå­ç»„ä»¶ï¼ˆå®Œæ•´ä¿ç•™ï¼‰
     *********************************/
    function TrustBar({ line, value = 95 }) {
      return (
        <GlassCard className="p-4 md:p-5 mt-4">
          <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
            <div className="text-sm md:text-base text-white/90">{line}</div>
            <div className="flex items-center gap-4 w-full md:w-auto">
              <div className="w-full md:w-64">
                <div className="flex justify-between text-[11px] text-white/60 mb-1"><span>åŒ¹é…åº¦</span><span>{value}%</span></div>
                <div className="h-2 rounded-full bg-white/10 overflow-hidden">
                  {motion ? (
                    <motion.div initial={{ width: 0 }} animate={{ width: `${value}%` }} transition={{ duration: 1.2 }} className="h-full bg-gradient-to-r from-emerald-400 to-cyan-400" />
                  ) : (
                    <div className="h-full bg-gradient-to-r from-emerald-400 to-cyan-400" style={{ width: `${value}%`, transition: 'width 1.2s ease' }} />
                  )}
                </div>
                <div className="text-[11px] mt-1 text-emerald-300/90">ç°åœ¨ä¸‹è½½ï¼Œèµ é€ä½ çš„ä¸“å±çš®è‚¤</div>
              </div>
              <div className="relative">
                <svg viewBox="0 0 36 36" className="w-10 h-10 -rotate-90">
                  <path d="M18 2 a 16 16 0 1 1 0 32 a 16 16 0 1 1 0 -32" fill="none" stroke="rgba(255,255,255,.15)" strokeWidth="4" />
                  {motion ? (
                    <motion.path d="M18 2 a 16 16 0 1 1 0 32 a 16 16 0 1 1 0 -32" fill="none" stroke="url(#grad)" strokeWidth="4" strokeLinecap="round" strokeDasharray="100 100" initial={{ strokeDashoffset: 100 }} animate={{ strokeDashoffset: 5 }} transition={{ duration: 1.2 }} />
                  ) : (
                    <path d="M18 2 a 16 16 0 1 1 0 32 a 16 16 0 1 1 0 -32" fill="none" stroke="url(#grad)" strokeWidth="4" strokeLinecap="round" strokeDasharray="100 100" />
                  )}
                  <defs>
                    <linearGradient id="grad" x1="0" x2="1"><stop offset="0%" stopColor="#2CD9FF" /><stop offset="100%" stopColor="#A445FF" /></linearGradient>
                  </defs>
                </svg>
              </div>
            </div>
          </div>
        </GlassCard>
      );
    }

    function MultiView({ dataset }) {
      const keys = Object.keys(dataset);
      const defaultKey = keys.includes("ç©æ³•") ? "ç©æ³•" : keys[0];
      const [tab, setTab] = useState(defaultKey);
      const list = dataset[tab];
      return (
        <div className="mt-6">
          <div className="flex gap-2 flex-wrap">
            {keys.map((k) => (
              <button key={k} onClick={() => setTab(k)} className={`px-3 py-1 rounded-full text-sm border ${k === tab ? "bg-gradient-to-r from-[#2CD9FF] to-[#A445FF] text-white border-transparent" : "bg-white/5 text-white/80 border-white/10 hover:bg-white/10"}`}>{k}</button>
            ))}
          </div>
          {motion ? (
            <motion.div key={tab} initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.25 }} className="mt-3 grid md:grid-cols-3 gap-3">
              {list.map((item, i) => (
                <GlassCard key={i} className="p-4 group">
                  <div className="text-sm font-semibold text-white/90">{item.t}</div>
                  <div className="text-sm text-white/70 mt-1">{item.s}</div>
                  <div className="mt-3 h-24 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-xs text-white/40 group-hover:text-white/70 transition">é¢„è§ˆå ä½ï¼ˆAI è‡ªåŠ¨æ‹¼æ¥ç‰‡æ®µï¼‰</div>
                </GlassCard>
              ))}
            </motion.div>
          ) : (
            <div className="mt-3 grid md:grid-cols-3 gap-3">
              {list.map((item, i) => (
                <GlassCard key={i} className="p-4 group">
                  <div className="text-sm font-semibold text-white/90">{item.t}</div>
                  <div className="text-sm text-white/70 mt-1">{item.s}</div>
                  <div className="mt-3 h-24 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-xs text-white/40 group-hover:text-white/70 transition">é¢„è§ˆå ä½ï¼ˆAI è‡ªåŠ¨æ‹¼æ¥ç‰‡æ®µï¼‰</div>
                </GlassCard>
              ))}
            </div>
          )}
        </div>
      );
    }

    function SocialRadar() {
      const [open, setOpen] = useState(false);
      return (
        <GlassCard className="p-4 mt-4">
          <div className="flex items-center justify-between">
            <div className="text-sm font-semibold text-white/90">å®æ—¶ç¤¾äº¤çƒ­åº¦é›·è¾¾</div>
            <button className="text-xs underline text-white/70" onClick={() => setOpen(!open)}>{open ? "æ”¶èµ·" : "å±•å¼€"}</button>
          </div>
          <div className="text-xs text-white/60 mt-1">åœ¨çº¿ï¼š18.2 ä¸‡ Â· å¥½å‹ï¼šå°æ˜(ç›‘ç®¡è€…å¤§å¸ˆæ®µä½) Â· ç›´æ’­ï¼šé¬¼å“­ç‹¼åš(12 ä¸‡è§‚çœ‹)</div>
          <AnimatePresence>
            {open && (
              <motion.div initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: "auto" }} exit={{ opacity: 0, height: 0 }} className="mt-3 grid md:grid-cols-3 gap-3">
                {[{ t: "å¥½å‹åœ¨çº¿", s: "å°æ˜ Â· è¿èƒœ 3 åœº Â· æ­£åœ¨åŒ¹é…" },{ t: "é«˜èƒ½ç›´æ’­", s: "é¬¼å“­ç‹¼åšï¼šç›‘ç®¡è€…æ•™å­¦ Â· 12 ä¸‡å›´è§‚" },{ t: "è¯é¢˜çƒ­åº¦", s: "#ç”µæœºæ‹‰æ‰¯ #ç›‘ç®¡è€…å‹åˆ¶ #å››æ’ä¸Šåˆ†" }].map((x) => (
                  <GlassCard key={x.t} className="p-3"><div className="text-xs font-semibold text-white/90">{x.t}</div><div className="text-xs text-white/70 mt-1">{x.s}</div></GlassCard>
                ))}
              </motion.div>
            )}
          </AnimatePresence>
          <div className="mt-2 flex gap-2"><PrimaryButton>è§‚æˆ˜</PrimaryButton><GhostButton>ç»„é˜ŸåŒ¹é…</GhostButton></div>
        </GlassCard>
      );
    }

    function SimilarRow({ variant = "newbie" }) {
      const sims = SIMS[variant] || SIMS.newbie;
      return (
        <div className="mt-6">
          <div className="text-sm font-semibold mb-2 text-white/90">ä½ å¯èƒ½ä¹Ÿä¼šå–œæ¬¢ï¼ˆç›¸ä¼¼æ°”è´¨ï¼‰</div>
          <div className="flex gap-3 overflow-x-auto no-scrollbar pr-2">
            {sims.map((s) => (
              <GlassCard key={s.title} className="min-w-[220px] p-3 hover:-translate-y-0.5 transition">
                <div className="h-28 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-xs text-white/40">å°é¢å ä½</div>
                <div className="mt-2 text-sm font-medium text-white/90">{s.title}</div>
                <div className="text-xs text-white/60">{s.why}</div>
                <div className="mt-2 flex gap-2"><PrimaryButton className="px-3 py-1">è¯•ç©</PrimaryButton><GhostButton className="px-3 py-1">å¯¹æ¯”</GhostButton></div>
              </GlassCard>
            ))}
          </div>
        </div>
      );
    }

    /*********************************
     *  å¤´éƒ¨å°é¢ä¸æ¨¡å¼åˆ‡æ¢
     *********************************/
    function BasicInfoCard() {
      return (
        <div className="absolute left-5 bottom-5 text-white drop-shadow-xl">
          <div className="text-2xl md:text-3xl font-bold tracking-tight">{GAME.name}</div>
          <div className="text-xs opacity-90 mt-1">{GAME.subtitle}</div>
          <div className="mt-2 flex flex-wrap gap-2">{GAME.tags.map((t) => (<Badge key={t}>{t}</Badge>))}</div>
        </div>
      );
    }
    function PersonaIntro() {
      return (
        <GlassCard className="absolute right-5 bottom-5 max-w-[320px] p-4 hidden md:block">
          <div className="text-sm font-medium text-white/90">ğŸ‘» å¹½çµç®¡å®¶ï¼šæ¬¢è¿æ¥åˆ°æ¬§åˆ©è’‚ä¸åº„å›­ï¼</div>
          <div className="text-xs mt-1 leading-relaxed text-white/70">æˆ‘æ‰«æäº†ä½ çš„æ¸¸ç©è®°å½•ï¼š<br />â€¢ åå¥½æ‚¬ç–‘ä¸ 1v4 â†’ åŒ¹é…åº¦ 95%ğŸ”¥<br />â€¢ å¹³å‡æ—¶é•¿ 15 åˆ†é’Ÿ â†’ é€‚é…ç¢ç‰‡å¨±ä¹<br />â€¢ æœ€è¿‘è§‚å½±ã€Šæ­»ä¾ã€‹ã€ŠæƒŠå£°å°–å«ã€‹ â†’ æ¨èäººæ ¼â€œæ”¶è—å®¶â€</div>
          <div className="mt-2 flex gap-2 flex-wrap">{["æˆ‘å½“çŒäºº", "æˆ‘é€ƒç”Ÿ", "éšæœºä½“éªŒ"].map((opt) => (<GhostButton key={opt} className="px-3 py-1 text-xs">{opt}</GhostButton>))}</div>
        </GlassCard>
      );
    }
    function ModeSwitchBar({ mode, switchTo }) {
      return (
        <div className="absolute top-4 right-4">
          <div className="bg-white/10 backdrop-blur-lg rounded-full border border-white/15 text-xs p-1 flex gap-1">
            <button onClick={() => switchTo("newbie")} className={`px-3 py-1 rounded-full ${mode === "newbie" ? "bg-gradient-to-r from-[#2CD9FF] to-[#A445FF] text-white" : "text-white/80 hover:bg-white/10"}`}>æœªç©</button>
            <button onClick={() => switchTo("veteran")} className={`px-3 py-1 rounded-full ${mode === "veteran" ? "bg-gradient-to-r from-[#2CD9FF] to-[#A445FF] text-white" : "text-white/80 hover:bg-white/10"}`}>å·²ç©</button>
          </div>
        </div>
      );
    }

    /*********************************
     *  å·²ç©ç”¨æˆ·å¢ç›Šå±‚
     *********************************/
    function WelcomeBackBar() {
      return (
        <GlassCard className="p-4 mt-4"><div className="flex flex-col md:flex-row md:items-center md:justify-between gap-3"><div className="text-sm text-white/80">æ¬¢è¿å›æ¥ï¼ä¸Šæ¬¡æ¸¸ç©ï¼šæ˜¨æ™š 22:17 Â· æœ¬å‘¨åœ¨çº¿ 4 æ¬¡</div><div className="flex gap-2 flex-wrap">{[{ t: "ç»§ç»­æ¸¸æˆ" }, { t: "è‡ªå®šä¹‰æˆ¿é—´" }, { t: "è§‚æˆ˜å¥½å‹" }, { t: "æ¯æ—¥ä»»åŠ¡" }].map((b) => (<GhostButton key={b.t} className="px-3 py-1 text-xs">{b.t}</GhostButton>))}</div></div></GlassCard>
      );
    }
    function MyProgressCard() {
      return (
        <div className="mt-4 grid md:grid-cols-2 gap-3">
          <GlassCard className="p-4"><div className="text-sm font-semibold text-white/90">æˆ‘çš„è¿›åº¦</div><div className="mt-2 grid grid-cols-2 gap-2 text-xs text-white/75"><div>æ®µä½ï¼šäº”é˜¶ Â· â­â­â­</div><div>è¿‘ 20 å±€èƒœç‡ï¼š58%</div><div>å¸¸ç”¨é˜µè¥ï¼šç›‘ç®¡è€… 62%</div><div>è§’è‰²ç†Ÿç»ƒåº¦ï¼šé›•åˆ»å®¶ S / å®ˆå¤œäºº A</div><div>èµ›å­£ä»»åŠ¡ï¼šå®Œæˆåº¦ 72%</div><div>ç™»å½•è¿å‡»ï¼š7 å¤©</div></div></GlassCard>
          <GlassCard className="p-4"><div className="text-sm font-semibold text-white/90">AI å¤ç›˜å»ºè®® Â· Top 3</div><ol className="list-decimal ml-4 mt-2 text-xs text-white/85 space-y-1"><li>ç›‘ç®¡è€…æ™®æ”»å‘½ä¸­ç‡åä½ï¼ˆ46%ï¼‰â†’ ç»ƒä¹ â€œè½¬ç‚¹é¢„åˆ¤ + å¤¹è§’é€¼ä»„â€ã€‚</li><li>å‰æœŸå‹ç”µæœºèŠ‚å¥æ…¢ â†’ å‰ 90 ç§’ä¼˜å…ˆå·¡é€»ä¸‰è§’åŒºï¼Œå‡å°‘ç›²è¿½ã€‚</li><li>è¢«æ•‘åå¸¸è¢«äºŒæ¬¡å‡»å€’ â†’ å»ºè®®ç»ƒä¹ â€œæ¥¼å±‚æ¢ä½ + æ‹‰è§†é‡â€ã€‚</li></ol><PrimaryButton className="mt-3 px-3 py-1">ä¸€é”®ç”Ÿæˆ 60s å¤ç›˜çŸ­ç‰‡</PrimaryButton></GlassCard>
        </div>
      );
    }
    function FriendsGuildActivity() {
      return (
        <GlassCard className="p-4 mt-4"><div className="text-sm font-semibold text-white/90">å¥½å‹ä¸å…¬ä¼šåŠ¨æ€</div><div className="mt-2 grid md:grid-cols-3 gap-3 text-xs text-white/85"><GlassCard className="p-3">å°æ˜ï¼šç›‘ç®¡è€…è¿èƒœ 3 åœº Â· é‚€ä½ åŠ å…¥</GlassCard><GlassCard className="p-3">å…¬ä¼šä»Šæ™š 21:00 è®­ç»ƒèµ›ï¼ˆå››æ’ï¼‰</GlassCard><GlassCard className="p-3">å‘¨æ’åï¼šä½ å½“å‰ç¬¬ 12 åï¼ˆâ†‘2ï¼‰</GlassCard></div><div className="mt-2 flex gap-2"><PrimaryButton className="px-3 py-1 text-xs">åŠ å…¥</PrimaryButton><GhostButton className="px-3 py-1 text-xs">è§‚æˆ˜</GhostButton></div></GlassCard>
      );
    }
    function PatchNews() {
      return (
        <GlassCard className="p-4 mt-4"><div className="text-sm font-semibold text-white/90">ç‰ˆæœ¬ä¸æ´»åŠ¨æƒ…æŠ¥</div><ul className="mt-2 text-xs text-white/85 list-disc ml-4 space-y-1"><li>æœ¬å‘¨æœ«æ’ä½ç§¯åˆ†åŠ æˆ +50%</li><li>æ–°çš®è‚¤â€œå¤œè¡Œè€…â€é™æ—¶è¿”åœºï¼ˆç›‘ç®¡è€…ï¼‰</li><li>èµ›äº‹ï¼šæ·±æ¸Šç››å…¸é¢„é€‰èµ› Â· ç›´æ’­å…¥å£å·²å¼€å¯</li><li>å¹³è¡¡è°ƒæ•´ï¼šå®ˆå¤œäººèƒ½é‡å›å¤ -5%</li></ul></GlassCard>
      );
    }
    function PersonalizedShop() {
      return (
        <GlassCard className="p-4 mt-4"><div className="text-sm font-semibold text-white/90">ä¸ªæ€§åŒ–å•†åº—ï¼ˆä¸ä½ ç›¸å…³ï¼‰</div><div className="mt-2 grid md:grid-cols-3 gap-3 text-xs">{[{ t: "æ”¶è—å®¶ï¼šè¡€è‰²åˆ»å°ï¼ˆä½ æœªæ‹¥æœ‰ï¼‰", a: "è¯•è¡£é—´" },{ t: "é›•åˆ»å®¶ï¼šå¤å ¡ç¤¼èµï¼ˆæœ¬å‘¨æŠ˜æ‰£ï¼‰", a: "åŠ å…¥æ„¿æœ›å•" },{ t: "å®ˆå¤œäººï¼šæå¤œä¹‹é€”ï¼ˆè”åŠ¨çš®è‚¤ï¼‰", a: "AR è¯•ç©¿" }].map((x) => (<GlassCard key={x.t} className="p-3"><div className="text-white/85">{x.t}</div><GhostButton className="mt-2 px-3 py-1 text-xs">{x.a}</GhostButton></GlassCard>))}</div></GlassCard>
      );
    }

    /*********************************
     *  æ–°å¢æ¨¡å—
     *********************************/
    function SectionTitle({ title, subtitle }) {
      return (
        <div className="mb-3"><h3 className="text-lg font-semibold text-white/90">{title}</h3>{subtitle && <p className="text-xs text-white/60">{subtitle}</p>}</div>
      );
    }
    function AIExplainerBlock() {
      return (
        <GlassCard className="mt-6">
          <SectionTitle title="ğŸ™ AIè®²è§£ & ä¸ºä»€ä¹ˆæ¨èç»™æˆ‘" subtitle="AI ä¸»æ’­æ¼”è®²æ•ˆæœå›¾ + ä¸ªæ€§åŒ–ç†ç”±" />
          <div className="grid md:grid-cols-2 gap-4 items-center">
            <div className="h-52 rounded-2xl relative overflow-hidden bg-[url('/ai-host-demo.png')] bg-cover bg-center">
              <div className="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent" />
              <div className="absolute bottom-2 left-2 text-xs text-white/90 bg-black/40 px-2 py-1 rounded-md">AI ä¸»æ’­æ¼”è®²ä¸­â€¦</div>
            </div>
            <div className="text-sm text-white/80 leading-relaxed">
              <p>ğŸ§  æ ¹æ®ä½ çš„åå¥½ç”»åƒï¼šæ‚¬ç–‘é¢˜æ + 1v4 å¯¹æŠ— â†’ åŒ¹é…åº¦ 95%ã€‚</p>
              <ul className="list-disc ml-4 mt-2 space-y-1">
                <li>ä½ å–œå¥½å¿«èŠ‚å¥ 10â€“15 åˆ†é’Ÿä¸€å±€ï¼Œæ¨èæ–°æ‰‹æ•™å­¦å±€ã€‚</li>
                <li>ä½ åœ¨éå¯¹ç§°ç±»ç›®åœç•™æ—¶é•¿æ›´é«˜ï¼Œç­–ç•¥åšå¼ˆå¥‘åˆåº¦å¼ºã€‚</li>
                <li>è¿‘æœŸè§‚çœ‹å†…å®¹ä¸å“¥ç‰¹æ°›å›´ç›¸è¿‘ï¼Œå‰§æƒ…æ²‰æµ¸åŠ åˆ†ã€‚</li>
              </ul>
              <div className="mt-3 flex gap-2"><PrimaryButton className="px-3 py-1 text-xs">â–¶ å¬AIè®²è§£</PrimaryButton><GhostButton className="px-3 py-1 text-xs">æŸ¥çœ‹å®Œæ•´æ¨èä¾æ®</GhostButton></div>
            </div>
          </div>
        </GlassCard>
      );
    }
    function PersonalizedBenefitsCenter() {
      return (
        <GlassCard className="mt-6">
          <SectionTitle title="ğŸ æˆ‘çš„ä¸ªæ€§åŒ–ç¤¼åˆ¸ä¸ç¦åˆ©" subtitle="æ¯æ—¥ç­¾åˆ° Â· æˆå°±å¥–åŠ± Â· é™æ—¶ç¤¼åŒ…" />
          <div className="grid md:grid-cols-3 gap-3 text-sm text-white/85">
            {[{t:'ä»Šæ—¥ç­¾åˆ°ç¤¼',desc:'åº„å›­é“¶å¸ x200 Â· çº¿ç´¢ç¢ç‰‡ x3'},{t:'æˆå°±å‹‹ç« ',desc:'å®Œæˆâ€œè¿èƒœä¸‰åœºâ€è§£é”ç‹©çŒå¾½ç« '},{t:'é™æ—¶ç¦åˆ©åŒ…',desc:'ç¨€æœ‰æ—¶è£…åˆ¸ + é’»çŸ³åŠ èµ '}].map((x)=>(
              <GlassCard key={x.t} className="bg-gradient-to-br from-[#2CD9FF]/10 to-[#A445FF]/10 p-4"><div className="font-semibold mb-1">{x.t}</div><p>{x.desc}</p><PrimaryButton className="mt-3 px-3 py-1 text-xs">ç«‹å³é¢†å–</PrimaryButton></GlassCard>
            ))}
          </div>
        </GlassCard>
      );
    }
    function GameHighlights() {
      return (
        <GlassCard className="mt-6">
          <SectionTitle title="ğŸ”¥ æ¸¸æˆæ ¸å¿ƒäº®ç‚¹" subtitle="è®©ä½  10 ç§’è¯»æ‡‚è¿™æ¬¾æ¸¸æˆçš„ç‹¬ç‰¹æ€§" />
          <div className="grid md:grid-cols-3 gap-4">{GAME.highlights.map((h) => (<div key={h.title} className="rounded-xl p-4 bg-white/5 border border-white/10 hover:bg-white/10 transition"><div className="text-sm font-semibold text-white/90 mb-1">{h.title}</div><p className="text-xs text-white/70">{h.desc}</p></div>))}</div>
        </GlassCard>
      );
    }
    function AIAgentEntry({ floating = false }) {
      const content = (
        <GlassCard className="p-4 md:p-6 flex flex-col md:flex-row items-center justify-between gap-3">
          <div>
            <h3 className="text-lg font-semibold text-white/90 mb-1">ğŸ¤– æ¸¸æˆ AI Agent åŠ©æ‰‹</h3>
            <p className="text-sm text-white/70 max-w-[420px]">æƒ³æ‰¾æ›´å¤šç±»ä¼¼æ¸¸æˆï¼Ÿæˆ–å…³äºã€Šç¬¬äº”äººæ ¼ã€‹çš„ä»»ä½•é—®é¢˜ï¼Ÿç«‹å³å’¨è¯¢ AI åŠ©æ‰‹ï¼Œè·å¾—å®æ—¶æ¨èä¸ç©æ³•æŒ‡å¯¼ã€‚</p>
          </div>
          <PrimaryButton className="mt-2 md:mt-0">ç«‹å³ä¸ AI å¯¹è¯ âœ</PrimaryButton>
        </GlassCard>
      );
      if (!floating) return <div className="mt-6">{content}</div>;
      return (
        <div className="fixed right-5 top-[88px] z-40 hidden lg:block opacity-95 hover:opacity-100 transition">{content}</div>
      );
    }

    /*********************************
     *  ä¸»ç»„ä»¶
     *********************************/
    function DevSelfTestPanel(){
      const [open,setOpen] = useState(false);
      const results = runSelfTests();
      return (
        <div className="mt-8">
          <button onClick={()=>setOpen(!open)} className="text-xs text-white/70 underline">{open? 'æ”¶èµ·è°ƒè¯•è‡ªæ£€' : 'å±•å¼€è°ƒè¯•è‡ªæ£€ï¼ˆæ’æŸ¥ framer-motion åŠ è½½é—®é¢˜ï¼‰'}</button>
          {open && (
            <GlassCard className="p-4 mt-2">
              <div className="text-sm font-semibold text-white/90">è‡ªæ£€ç»“æœ</div>
              <ul className="mt-2 text-xs text-white/80 space-y-1">
                {results.map((r,i)=> (
                  <li key={i} className={r.pass? 'text-emerald-300' : 'text-rose-300'}>
                    {r.pass ? 'âœ” ' : 'âœ– '}{r.name}
                  </li>
                ))}
              </ul>
              <div className="text-[11px] text-white/60 mt-2">è‹¥ â€œframer-motion å…¨å±€å¯è§â€ å¤±è´¥ï¼Œç¡®è®¤ç½‘ç»œèƒ½è®¿é—® unpkgï¼Œå¹¶ä¿æŒæœ¬ HTML ä¸­çš„ framer-motion è„šæœ¬æ ‡ç­¾é¡ºåºåœ¨ React ä¹‹åã€Babel ä¹‹å‰ã€‚</div>
            </GlassCard>
          )}
        </div>
      );
    }

    function App(){
      const [toast, setToast] = useState(null);
      const [showGift, setShowGift] = useState(false);
      const [tabData] = useState(VISUAL_SETS);
      const [mode, setMode] = useState("newbie"); // newbie | veteran
      const oneLine = useMemo(() => GAME.heroLines[0], []);

      const onTryNow = () => {
        setToast(mode === "newbie" ? "å·²ä¸ºä½ å¼€å¯â€˜15 åˆ†é’Ÿæ–°æ‰‹ä½“éªŒå±€â€™ï¼šä½é…å¯¹æ‰‹ + æ•™å­¦æç¤º" : "ç»§ç»­æ¸¸æˆåŒ¹é…ä¸­ï¼šæ²¿ç”¨ä½ ä¸Šæ¬¡ç›‘ç®¡è€…é…ç½®");
        setTimeout(() => setToast(null), 2000);
        if (mode === "newbie") setTimeout(() => setShowGift(true), 2200);
      };
      const switchTo = (m) => setMode(m);

      return (
        <div className="min-h-screen bg-[#0B0D13] text-white">
          {/* èƒŒæ™¯è£…é¥° */}
          <div className="pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_20%_10%,rgba(108,108,255,.18),transparent_40%),radial-gradient(circle_at_80%_30%,rgba(44,217,255,.16),transparent_45%),radial-gradient(circle_at_50%_80%,rgba(164,69,255,.14),transparent_40%)]" />

          {/* é¡¶éƒ¨æµ®åŠ¨ AI Agent å¿«æ·å…¥å£ */}
          <AIAgentEntry floating />

          <div className="relative max-w-6xl mx-auto px-4 py-6 md:py-10">
            {/* é¡¶éƒ¨æ²‰æµ¸å°é¢ */}
            <div className="relative w-full overflow-hidden rounded-3xl shadow-2xl">
              <div className="relative h-64 md:h-80 bg-[#0E1016]">
                <div className="absolute inset-0 bg-[radial-gradient(60%_60%_at_30%_30%,rgba(44,217,255,.25),transparent_60%)]" />
                <div className="absolute inset-0 bg-gradient-to-t from-[#0E1016] via-transparent to-[#0E1016]/40" />
                <BasicInfoCard />
                {mode === "newbie" ? <PersonaIntro /> : null}
                <ModeSwitchBar mode={mode} switchTo={switchTo} />
              </div>
            </div>

            {/* æ ¸å¿ƒä¿¡æ¯ï¼šæœªç© / å·²ç© */}
            {mode === "newbie" ? (
              <>
                <TrustBar line={oneLine} value={95} />
                <div className="mt-4 flex flex-wrap gap-3">
                  <PrimaryButton onClick={onTryNow}>ğŸ® ä¸€é”®è¯•ç©</PrimaryButton>
                  <GhostButton>ğŸ™ AI è®²è§£ï¼šå¿«é€Ÿä¸Šæ‰‹</GhostButton>
                  <GhostButton>ğŸ§  ä¸ºä»€ä¹ˆæ¨èç»™æˆ‘</GhostButton>
                </div>
                {/* æ–°å¢ï¼šæ ¸å¿ƒäº®ç‚¹ + AIè®²è§£åŒºå— */}
                <GameHighlights />
                <AIExplainerBlock />
              </>
            ) : (
              <>
                <WelcomeBackBar />
                <MyProgressCard />
              </>
            )}

            {/* ç¤¾äº¤éªŒè¯å±‚ */}
            <SocialRadar />

            {/* æ·±åº¦å†…å®¹ */}
            <MultiView dataset={tabData} />

            {/* ç›¸ä¼¼æ¸¸æˆæ¨è */}
            <SimilarRow variant={mode === "veteran" ? "veteran" : "newbie"} />

            {/* å·²ç©ä¸“å± */}
            {mode === "veteran" && (<><FriendsGuildActivity /><PatchNews /><PersonalizedShop /></>)}

            {/* ä¸ªæ€§åŒ–ç¤¼åˆ¸ç¦åˆ©ä¸­å¿ƒ */}
            <PersonalizedBenefitsCenter />

            {/* éæ‚¬æµ®ç‰ˆ Agent å…¥å£ */}
            <AIAgentEntry />

            {/* åœºæ™¯æ ‡ç­¾ */}
            <div className="mt-6">
              <div className="text-sm font-semibold mb-2 text-white/90">å½“ä¸‹åœºæ™¯</div>
              <div className="flex flex-wrap gap-2">
                {["ä¸‹ç­ 10 åˆ†é’Ÿçˆ½ä¸€æŠŠ", "å’Œæ­å­è”æœº", "å‰§æƒ…æ²‰æµ¸å¤œ", "æ‘¸é±¼åˆä¼‘å±€"].map((s) => (
                  <button key={s} onClick={() => onTryNow()} className="px-3 py-1 rounded-full text-xs bg-white/10 text-white/85 border border-white/10 hover:bg-white/15">{s}</button>
                ))}
              </div>
            </div>

            {/* è°ƒè¯•è‡ªæ£€é¢æ¿ */}
            <DevSelfTestPanel />

            {/* ç¤¼åŒ…æµ®å±‚ï¼ˆæœªç©è§¦å‘ï¼‰ */}
            <AnimatePresence>{showGift && mode === "newbie" && (
              <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 10 }} className="fixed bottom-6 right-6 z-50">
                <GlassCard className="p-4">
                  <div className="text-sm font-semibold text-white/90">ğŸ å°Vä¸“å±ç¤¼åŒ…</div>
                  <ul className="text-xs mt-2 text-white/80 list-disc ml-4">
                    <li>æ”¶è—å®¶ä¸“å±æ¶‚é¸¦ï¼ˆä½ çš„ ID åˆ»å°ï¼‰</li>
                    <li>7 å¤© VIP Â· æ´»è·ƒæ—¶æ®µå®šåˆ¶</li>
                    <li>å¥½å‹é‚€è¯·åŒå€é’»çŸ³</li>
                  </ul>
                  <PrimaryButton className="mt-3 px-3 py-1">æ‰«ç é¢†å–</PrimaryButton>
                </GlassCard>
              </motion.div>
            )}</AnimatePresence>

            {/* Toast æç¤º */}
            <AnimatePresence>{toast && (
              <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 8 }} className="fixed bottom-6 left-1/2 -translate-x-1/2 bg-black/80 text-white text-sm px-4 py-2 rounded-full border border-white/10 shadow-xl">{toast}</motion.div>
            )}</AnimatePresence>

            {/* é¡µè„š */}
            <div className="mt-10 text-center text-xs text-white/50">v7 Â· åœ¨ v4 çš„å®Œæ•´åŠŸèƒ½ä¸Šèåˆæ–°å¢æ¨¡å— Â· é¡¶éƒ¨æµ®åŠ¨ Agent å…¥å£ + å¿ƒæµä¼˜åŒ–</div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
